<div class="table-responsive box d-flex flex-column full-height">
  <div class="d-flex px-5 pt-5 pb-4">
    <h4 class="flex-grow-1">Accommodation units</h4>
    <form novalidate="novalidate" onsubmit="return false;" class="searchbox mb-3">
      <div role="search" class="searchbox__wrapper">
        <input id="search-input" type="search" name="search" placeholder="Enter keyword" autocomplete="off"
          required="required" class="searchbox__input">
        <button type="submit" class="searchbox__submit">
          <svg role="img" aria-label="Search">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#Search_Icon"></use>
          </svg>
        </button>
        <button type="reset" title="Clear the search input" class="searchbox__reset hide">
          <svg role="img" aria-label="Reset">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#Close_Icon"></use>
          </svg>
        </button>
      </div>
    </form>
    <span role="button" class="table-btn table-btn-xl table-btn-success inline ml-2" data-toggle="tooltip"
      data-placement="bottom" title="Add new acoommodation" (click)="openNewUnitModal()">
      <svg class="icon">
        <use xlink:href="#Plus_Icon_XL"></use>
      </svg>
    </span>
  </div>
  <div class="tableFixHead flex-grow-1">
    <table class="table table-borderless table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Type</th>
          <th scope="col">Category</th>
          <th scope="col">Number of people</th>
          <th scope="col">Prices</th>
          <th scope="col">Extra fields</th>
          <th scope="col" width="150"></th>
          <th scope="col" width="150"></th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngIf="accommmodaitonUnits$ | async as units; else loading">
          <tr *ngFor="let unit of units">
            <th scope="row"><span class="blue-badge">{{unit.accommodationUnitId}}</span></th>
            <td>{{unit.type.typeName}}</td>
            <td>{{unit.category.categoryName}}</td>
            <td>{{unit.numberOfPeople}}</td>
            <td><button (click)="openPricesModal(unit)">open prices</button></td>
            <td><button (click)="openExtraFiledsModal(unit.accommodationUnitId)">open extra fields</button></td>
            <td><button class="table-btn-success" (click)="openUnitOccupancyModal(unit.accommodationUnitId)">manage
                occupancy</button></td>
            <td class="float-right">
              <span role="button" class="table-btn table-btn-success borderless mr-2"
                (click)="openChangeUnitModal(unit.accommodationUnitId)">
                <svg class="icon">
                  <use xlink:href="#Edit_Icon"></use>
                </svg>
              </span>
              <span role="button" class="table-btn table-btn-danger borderless">
                <svg class="icon">
                  <use xlink:href="#Delete_Icon"></use>
                </svg>
              </span>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  <div class="table-footer px-5 py-3 d-flex justify-content-center">
    <div class="table-footer-side align-self-center">
      <span class="blue-badge">TOTAL: {{collectionSize}}</span>
    </div>
    <ngb-pagination class="flex-grow-1 d-flex justify-content-center" [collectionSize]="collectionSize"
      [(page)]="currentPage" [pageSize]="pageSize" aria-label="Custom pagination">
      <ng-template ngbPaginationPrevious>Prev</ng-template>
      <ng-template ngbPaginationNext>Next</ng-template>
    </ngb-pagination>
    <div class="table-footer-side d-flex justify-content-end">
      <select class="form-control" [(ngModel)]="pageSize" (change)="changePageSize()">
        <option *ngFor="let s of pageSizes" value={{s}}>{{s}}</option>
      </select>
    </div>
  </div>
</div>
<svg width="0" height="0" class="hidden d-none">
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" id="Close_Icon">
    <path d="M22.9 14.5l-1.4-1.4-3.5 3.5-3.5-3.5-1.4 1.4 3.5 3.5-3.5 3.5 1.4 1.4 3.5-3.5 3.5 3.5 1.4-1.4-3.5-3.5z">
    </path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" id="Checkmark_Icon">
    <path d="M25.3 11.4L15 21.7l-4.3-4.3-1.4 1.4 5 5 .7.7.7-.7 11-11-1.4-1.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" id="Delete_Icon">
    <path d="M22 13v-2h-8v2h-3v2h2v10h10V15h2v-2h-3zm-1 10h-6v-8h6v8z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="Plus_Icon_XL">
    <path d="M25 23v-5h-2v5h-5v2h5v5h2v-5h5v-2z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="Search_Icon">
    <path
      d="M31.6 30.2l-4.3-4.3c.7-1 1.1-2.2 1.1-3.5 0-3.3-2.7-6-6-6s-6 2.7-6 6 2.7 6 6 6c1.3 0 2.5-.4 3.5-1.1l4.3 4.3 1.4-1.4zm-9.2-3.8c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z">
    </path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" id="Edit_Icon">
    <path fill="none" d="M0 0h18v18H0z"></path>
    <path d="M2.4 13.5L2 16l2.5-.4L13 7.1 10.9 5zM12.432 3.447l1.414-1.414 2.121 2.12-1.414 1.415z"></path>
  </symbol>
</svg>